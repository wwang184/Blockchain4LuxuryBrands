{"ast":null,"code":"var _jsxFileName = \"/Users/wanqiwang/Documents/GitHub/Blockchain4LuxuryBrands/luxury-react/src/App.js\";\n// https://www.jianshu.com/p/5da35f504aef\n// https://web3js.readthedocs.io/en/v1.2.0/web3-eth-contract.html\nimport React, { Component } from 'react';\nimport './App.css';\nimport web3 from './web3';\nimport luxury from './luxury';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      manager: \"NOT SET\"\n    };\n    this.getMyAddress = this.getMyAddress.bind(this);\n    this.getMyItems = this.getMyItems.bind(this);\n  } // will be executed after page gets loaded\n\n\n  async componentDidMount() {\n    // solidity calls are async call, add await in front of call to make sync\n    const manager = await luxury.methods.manager().call();\n    const accounts = await web3.eth.getAccounts(); //update this.state.manager so render will be executed\n\n    this.setState({\n      manager: manager,\n      accounts: accounts\n    });\n  }\n\n  async getMyAddress() {\n    var ads = await luxury.methods.getMyAddress().call({\n      from: accounts[0]\n    }); // set message for the return values to be show in the page..\n    // this is the best way i can do it now, but i think there will be other solutions\n\n    this.setState({\n      message1: \"Your address is \" + ads\n    });\n  }\n\n  async getMyItems() {\n    var myitems = await luxury.method.getMyItems().call({\n      from: accounts[0]\n    });\n    this.setState({\n      myitems: myitems\n    });\n  } // This function will be called when any variable in this state...??\n  // And the return of this function will be rendered in to HTML and ??\n\n\n  render() {\n    // you can see this line in the browser console\n    console.log(\"manager is \" + this.state.manager);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, \"Luxury Contract\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, \"This contract is managed by \", this.state.manager), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.getMyAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, \"Get my address\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, this.state.message1), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.getMyItems,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, \"Get my items\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, this.state.myitems.map((value, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 28\n        }\n      }, \"post: \", value);\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"Transfer Ownership\"));\n  }\n\n}\n\nexport default App; // 1. show variable, basicly call view\n// 2. set variable, basicly call transact\n// 3.","map":{"version":3,"sources":["/Users/wanqiwang/Documents/GitHub/Blockchain4LuxuryBrands/luxury-react/src/App.js"],"names":["React","Component","web3","luxury","App","constructor","props","state","manager","getMyAddress","bind","getMyItems","componentDidMount","methods","call","accounts","eth","getAccounts","setState","ads","from","message1","myitems","method","render","console","log","map","value","index"],"mappings":";AAAA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,GAAN,SAAkBH,SAAlB,CAA4B;AAExBI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE;AADA,KAAb;AAGA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AACH,GATuB,CAYxB;;;AACA,QAAME,iBAAN,GAAyB;AACvB;AACA,UAAMJ,OAAO,GAAG,MAAML,MAAM,CAACU,OAAP,CAAeL,OAAf,GAAyBM,IAAzB,EAAtB;AACA,UAAMC,QAAQ,GAAG,MAAMb,IAAI,CAACc,GAAL,CAASC,WAAT,EAAvB,CAHuB,CAKvB;;AACA,SAAKC,QAAL,CAAc;AAACV,MAAAA,OAAO,EAAEA,OAAV;AAAkBO,MAAAA,QAAQ,EAAEA;AAA5B,KAAd;AACD;;AAED,QAAMN,YAAN,GAAoB;AAClB,QAAIU,GAAG,GAAG,MAAMhB,MAAM,CAACU,OAAP,CAAeJ,YAAf,GAA8BK,IAA9B,CAAmC;AAACM,MAAAA,IAAI,EAAEL,QAAQ,CAAC,CAAD;AAAf,KAAnC,CAAhB,CADkB,CAElB;AACA;;AACA,SAAKG,QAAL,CAAc;AAAEG,MAAAA,QAAQ,EAAE,qBAAqBF;AAAjC,KAAd;AACD;;AAED,QAAMR,UAAN,GAAkB;AAChB,QAAIW,OAAO,GAAG,MAAMnB,MAAM,CAACoB,MAAP,CAAcZ,UAAd,GAA2BG,IAA3B,CAAgC;AAACM,MAAAA,IAAI,EAAEL,QAAQ,CAAC,CAAD;AAAf,KAAhC,CAApB;AACA,SAAKG,QAAL,CAAc;AAACI,MAAAA,OAAO,EAACA;AAAT,KAAd;AACD,GAhCuB,CAkCxB;AACA;;;AAEAE,EAAAA,MAAM,GAAE;AACJ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgB,KAAKnB,KAAL,CAAWC,OAAvC;AAEA,wBACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAgC,KAAKD,KAAL,CAAWC,OAA3C,CAFJ,eAGI;AAAQ,MAAA,OAAO,EAAE,KAAKC,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,KAAKF,KAAL,CAAWc,QAAf,CAJJ,eAKI;AAAQ,MAAA,OAAO,EAAE,KAAKV,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKJ,KAAL,CAAWe,OAAX,CAAmBK,GAAnB,CAAuB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACxC,0BAAO;AAAI,QAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAuBD,KAAvB,CAAP;AACD,KAFA,CADH,CANJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAXJ,CADJ;AAgBH;;AAzDuB;;AA4D5B,eAAexB,GAAf,C,CAEA;AACA;AACA","sourcesContent":["// https://www.jianshu.com/p/5da35f504aef\n// https://web3js.readthedocs.io/en/v1.2.0/web3-eth-contract.html\n\nimport React, { Component } from 'react';\nimport './App.css';\nimport web3 from './web3';\nimport luxury from './luxury';\n\nclass App extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            manager: \"NOT SET\"\n        };\n        this.getMyAddress = this.getMyAddress.bind(this);\n        this.getMyItems = this.getMyItems.bind(this);\n    }\n\n\n    // will be executed after page gets loaded\n    async componentDidMount(){\n      // solidity calls are async call, add await in front of call to make sync\n      const manager = await luxury.methods.manager().call();\n      const accounts = await web3.eth.getAccounts();\n\n      //update this.state.manager so render will be executed\n      this.setState({manager: manager,accounts: accounts});\n    }\n\n    async getMyAddress(){\n      var ads = await luxury.methods.getMyAddress().call({from: accounts[0]});\n      // set message for the return values to be show in the page..\n      // this is the best way i can do it now, but i think there will be other solutions\n      this.setState({ message1: \"Your address is \" + ads});\n    }\n\n    async getMyItems(){\n      var myitems = await luxury.method.getMyItems().call({from: accounts[0]});\n      this.setState({myitems:myitems})\n    }\n    \n    // This function will be called when any variable in this state...??\n    // And the return of this function will be rendered in to HTML and ??\n\n    render(){\n        // you can see this line in the browser console\n        console.log(\"manager is \" + this.state.manager);\n\n        return (\n            <div className=\"App\">\n                <h1>Luxury Contract</h1>\n                <p>This contract is managed by {this.state.manager}</p>\n                <button onClick={this.getMyAddress}>Get my address</button>\n                <p>{this.state.message1}</p>\n                <button onClick={this.getMyItems}>Get my items</button>\n                <ul>\n                  {this.state.myitems.map((value, index) => {\n                    return <li key={index}>post: {value}</li>\n                  })}\n          </ul>\n                <h2>Transfer Ownership</h2>\n\n            </div>\n        );\n    }\n}\n\nexport default App;\n\n// 1. show variable, basicly call view\n// 2. set variable, basicly call transact\n// 3."]},"metadata":{},"sourceType":"module"}